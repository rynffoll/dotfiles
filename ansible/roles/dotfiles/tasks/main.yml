---
- name: Import vars
  include_vars: fedora.yml
  when: ansible_distribution == "Fedora"

- name: Import vars
  include_vars: macos.yml
  when: ansible_distribution == "MacOSX"

- name: Import vars
  include_vars: macos.yml
  when: ansible_distribution == "Ubuntu"

- name: Prepare dotfiles destination
  file:
    path: "{{ (dotfiles_home ~ '/' ~ item.dest) | dirname }}"
    state: directory
  with_items: "{{ dotfiles_list }}"

- name: Create symlinks to dotfiles
  file:
    src: "{{ role_path }}/files/{{ item.src }}"
    dest: "{{ dotfiles_home }}/{{ item.dest }}"
    state: link
    # force: yes
  with_items: "{{ dotfiles_list }}"

- name: Create symlinks to directories
  file:
    src: "{{ item.src }}"
    dest: "{{ item.dest }}"
    state: link
    # force: yes
  with_items: "{{ symlinks_list }}"
